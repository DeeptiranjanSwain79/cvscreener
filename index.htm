<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>CV Screener</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 mx-auto text-center d-grid">
                <h1>Candidate Applications</h1>
                <div id="image" style="padding: 2rem;"></div>
                <hr>
                <div id="profile"></div>
                <hr>
                <button class="btn btn-primary btn-lg" id="next">Next</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- <script src="/index.js"></script> -->
    <script>
        console.log("CV Screener");

        // Data is an array of objects which contains information about the candidates
        const data = [
            {
                name: "Hansika",
                age: 19,
                city: 'Puri',
                language: 'Java',
                framework: 'Spring boot MVC',
                image: "https://randomuser.me/api/portraits/women/77.jpg"
            },
            {
                name: "Samantha",
                age: 19,
                city: 'Bangalore',
                language: 'Javascript',
                framework: 'React',
                image: "https://randomuser.me/api/portraits/women/76.jpg"
            },
            {
                name: "Azrael",
                age: 19,
                city: 'BBSR',
                language: 'Python',
                framework: 'DJango',
                image: "https://randomuser.me/api/portraits/women/78.jpg"
            },
            {
                name: "Durba",
                age: 19,
                city: 'Kolkata',
                language: 'PHP',
                framework: 'WordPress',
                image: "https://randomuser.me/api/portraits/women/69.jpg"
            },
            {
                name: "Reena",
                age: 19,
                city: 'Puri',
                language: 'Java',
                framework: 'Spring boot MVC',
                image: "https://randomuser.me/api/portraits/women/47.jpg"
            },
            {
                name: "Meenaksi",
                age: 19,
                city: 'Bangalore',
                language: 'Javascript',
                framework: 'React',
                image: "https://randomuser.me/api/portraits/women/42.jpg"
            },
            {
                name: "Shiva",
                age: 19,
                city: 'BBSR',
                language: 'Python',
                framework: 'DJango',
                image: "https://randomuser.me/api/portraits/women/48.jpg"
            },
            {
                name: "Rashmika",
                age: 19,
                city: 'Kolkata',
                language: 'PHP',
                framework: 'WordPress',
                image: "https://randomuser.me/api/portraits/women/49.jpg"
            },
            {
                name: "Genelia",
                age: 19,
                city: 'Puri',
                language: 'Java',
                framework: 'Spring boot MVC',
                image: "https://randomuser.me/api/portraits/women/67.jpg"
            },
            {
                name: "Cuty",
                age: 19,
                city: 'Bangalore',
                language: 'Javascript',
                framework: 'React',
                image: "https://randomuser.me/api/portraits/women/88.jpg"
            },
            {
                name: "Sweetie",
                age: 19,
                city: 'BBSR',
                language: 'Python',
                framework: 'DJango',
                image: "https://randomuser.me/api/portraits/women/82.jpg"
            },
            {
                name: "Dracarys",
                age: 19,
                city: 'Kolkata',
                language: 'PHP',
                framework: 'WordPress',
                image: "https://randomuser.me/api/portraits/women/87.jpg"
            },
            {
                name: "Mazikeen",
                age: 19,
                city: 'Puri',
                language: 'Java',
                framework: 'Spring boot MVC',
                image: "https://randomuser.me/api/portraits/women/97.jpg"
            },
            {
                name: "Linda",
                age: 19,
                city: 'Bangalore',
                language: 'Javascript',
                framework: 'React',
                image: "https://randomuser.me/api/portraits/women/98.jpg"
            },
            {
                name: "Ella",
                age: 19,
                city: 'BBSR',
                language: 'Python',
                framework: 'DJango',
                image: "https://randomuser.me/api/portraits/women/99.jpg"
            },
            {
                name: "Chloe",
                age: 19,
                city: 'Kolkata',
                language: 'PHP',
                framework: 'WordPress',
                image: "https://randomuser.me/api/portraits/women/10.jpg"
            },
        ];

        //CV iterator
        function CVIterator(profiles) {
            let nextIndex = 0;
            return {
                next: () => {
                    return (nextIndex < profiles.length) ? { value: profiles[nextIndex++], done: false } : { done: true };
                }
            }
        }

        //Event listener for next Button
        const next = document.getElementById('next');
        next.addEventListener('click', nextCV);

        candidates = CVIterator(data);

        function nextCV() {
            const currentCandidate = candidates.next().value;

            let image = document.getElementById('image');
            let profile = document.getElementById('profile');
            if (currentCandidate != undefined) {
                image.innerHTML = `<img src=${currentCandidate.image}>`;
                profile.innerHTML = `<ul class="list-group">
            <li class="list-group-item">Name: ${currentCandidate.name}</li>
            <li class="list-group-item">Age: ${currentCandidate.age}</li>
            <li class="list-group-item">City: ${currentCandidate.city}</li>
            <li class="list-group-item">Language: ${currentCandidate.language}</li>
            <li class="list-group-item">Framework: ${currentCandidate.framework}</li>
        </ul>`;
            } else {
                window.alert("End of Applications");
                window.location.reload();
            }
        }

        nextCV();
    </script>
</body>

</html>